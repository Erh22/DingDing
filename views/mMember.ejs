<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="/javascript/jquery-3.5.1.min.js"></script>
    <script src="/javascript/popper.min.js"></script>
    <script src="/javascript/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/fontello.css">
    <link rel="stylesheet" href="/stylesheets/sider.css">
    <link rel="stylesheet" href="/stylesheets/member.css">
    <script src="/javascript/vue.js"></script>

    <title>Document</title>

</head>

<body>

    <!-- 左邊sider -->
    <%- include('mSider', {active}); %>
    <!-- <div class="slider fixed-top">
        <img src="/image/LOGO.png" class="sliderLogo">
        <br>
        <img src="/image/photo.jpg" class="sliderPhoto">
        <p class="name text24B">阿信</p>
        <div class="menu text24R">
            <a href=""><i class="icon-home"></i>首頁</a>
            <a href=""><i class="icon-claendar"></i>訂訂行事曆</a>
            <a href="" class="mb-2 act"><i class="icon-member"></i>會員中心<i class="icon-down-open ml-3 mr-0"
                    style="font-size: 14px;"></i></a>
            <span class="menuI">
                <a href="" class="mb-0 act">個人資料</a>
                <a href="mSaveCoins">我的訂訂幣</a>
            </span>
            <a href="" class="mt-4"><i class="icon-message"></i>通知<span class="note">3</span></a>
            <a href="" id="signOut"><i class="icon-logout"></i>登出</a>
        </div>
    </div> -->

    <div class="containerRight memberInfo" id='memberInfo'>
        <div class="inWrapper">
            <div class="CoinBlock mt-m py-2 mb-100 d-inline-block ">
                <span class="text24B align-middle">我的訂訂幣</span>
                <span class="eng24R price mr-4 align-middle">
                    <span class=" align-middle">{{(myCoin).toLocaleString('en-US')}}</span>
                </span>
                <button class="text20R dbtn btnB align-middle">儲值</button>
            </div>
            <div class="row ">
                <div class="col-8 mInfo">
                    <div class="d-flex">
                        <div :style="{background: 'url(/image/' + memberPhoto + ')',backgroundSize :'100%'}" class="memberPhoto icon-photo-1">
                        </div>
                        <div class="ml-auto">
                            <button class="text20R dbtn btnW  mr-3">取消</button>
                            <button class="text20R dbtn btnY">儲存</button>
                        </div>
                    </div>
                    <div class="row">
                        <ul class="mt-m mInfoList w-100">
                            <li>
                                <span class="text20B title">帳號</span>
                                <span class="text20R">{{eMail}}</span>
                            </li>
                            <li>
                                <span class="text20B title">暱稱</span>
                                <input type="text" class="text20R singleText398" placeholder="請輸入電子信箱" v-model.trim='memberName'>
                            </li>
                            <li>
                                <span class="text20B title">密碼</span>
                                <span class="text20R">*****</span>
                                <button class="text20R dbtn btnW ml-4" data-toggle="modal" data-target="#password">修改密碼</button>
                            </li>
                            <li>
                                <span class="text20B title">手機</span>
                                <input type="text" class="text20R singleText398" placeholder="請輸手機" v-model.trim='memberPhone'>
                            </li>
                            <li>
                                <span class="text20B title">常用地址</span>
                                <input type="text" class="text20R singleText398" placeholder="請輸入常用地址" v-model.trim='memberAddress[0].Address'>
                            </li>
                            <li class="addressList scrollList d-block" style="width: calc(100% + 8px);">
                                <div v-if="item.id!=0" v-for='(item,index) in memberAddress'>
                                    <input type="text" class="text20R singleText398 ml-140 mr-4" placeholder="請輸入常用地址" v-model.trim='item.Address'>
                                    <i class="icon-trash" @click="deleteItem(index)"></i>
                                </div>
                            </li>
                            <li class="mb-0">
                                <button class="dbtn btnW text20R ml-140" @click='addItem'>
                                    新增常用地址
                                    <span class="ml-2">+</span>
                                </button>
                            </li>

                        </ul>
                    </div>
                </div>

                <div class="col-4">
                    <div class="dblock ml-3">
                        <p class="text24B mb-m">收藏店家名單</p>
                        <div class=" likeList scrollList">
                            <div class="row mb-xs d-flex  w-100" v-for='(storeItem,index) in likeStoreID'>
                                <img class="orderSectionImg mr20 clipCircle mr-20" :src="(`/image/store/${storeItem.storePhoto}`)">
                                <span class="text20B" style="line-height: 40px; width: calc(100% - 145px)">{{storeItem.storeName}}</span>
                                <i class="icon-trash" @click="deleteStoreItem(index)"></i>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- 更改密碼 -->
    <div class="modal fade inputL" id="password">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text28B">修改密碼</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class=" icon-close"></i>
                </button>
                </div>
                <div class="modal-continer">
                    <p class="text24B mb-2">
                        舊密碼
                    </p>
                    <input type="text" class="text20RG singleText398 " placeholder="請輸入舊密碼">
                    <p class="text24B mb-2">
                        新密碼
                    </p>
                    <input type="text" class="text20RG singleText398 " placeholder="請輸入新密碼">
                    <p class="text24B mb-2">
                        再次輸入新密碼
                    </p>
                    <input type="text" class="text20RG singleText398 " placeholder="再次輸入新密碼">
                    <button class="text20R dbtn btnY w-100">確認修改</button>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>


    <!-- vue -->
    <script>
        // data資料
        let data = {

            memberID: 1,
            eMail: 'Abc123@example.com',
            password: 'abcd',
            memberPhoto: 'photo.jpg',
            memberName: '阿信',
            memberPhone: '09123456789',
            memberAddress: [{
                id: 0,
                Address: '台中市南屯區公益路2段69號14F'
            }, {
                id: 1,
                Address: '台中市南屯區公益路2段69號13F'
            }],
            myCoin: 5000,
            likeStoreID: [{
                storeID: 1,
                storeName: '尊品原汁牛肉麵1',
                storePhoto: 'Taichung/朴大哥的韓式炸雞_逢甲總店/index.jpeg'
            }, {
                storeID: 2,
                storeName: '尊品原汁牛肉麵2',
                storePhoto: 'Taichung/朴大哥的韓式炸雞_逢甲總店/index.jpeg'
            }]

        }

        //vue資料
        let mMember = new Vue({
            el: '#memberInfo',
            data: data,
            methods: {
                deleteItem(index) {
                    this.memberAddress.splice(index, 1);
                },
                addItem() {
                    this.memberAddress.push({
                        Address: this.memberAddress.Address
                    })
                },
                deleteStoreItem(index) {
                    this.likeStoreID.splice(index, 1);
                }
            }

        })
    </script>


</body>

</html>