<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="/javascript/jquery-3.5.1.min.js"></script>
    <script src="/javascript/popper.min.js"></script>
    <script src="/javascript//bootstrap.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/fontello.css">
    <link rel="stylesheet" href="/stylesheets/sider.css">
    <link rel="stylesheet" href="/stylesheets/member.css">
    <link rel="Shortcut Icon" type="image/x-icon" href="/image/favicon.png">
    <script src="/javascript/vue.js"></script>
    <script src="/javascript/loading.js"></script>
    

    <title>我的訂訂幣</title>

</head>

<body>

    <!-- 左邊sider -->
    <%- include('mSider', {active}); %>

    <!-- 右邊內容放置區 -->
    <div class="containerRight load" id="purchased">
        <div class="inWrapper">
            <div class="CoinBlock mt-m py-2 mb-l d-inline-block">
                <span class="text24B align-middle">我的訂訂幣</span>
                <span class="eng24R price mr-4 align-middle">
                    <span class=" align-middle">{{(saveCoinData[0].saveSum-costCoinData[0].costSum).toLocaleString('en-US')}}</span>
                </span>
                <button class="text20R dbtn btnB align-middle">儲值</button>
            </div>
            <div class="dblock givePadding">
                <nav class="topTag row">
                    <a href="mSaveCoins">
                        <div class="dTag text24RG">儲值記錄</div>
                    </a>
                    <div class="dTag text24RG act">消費記錄</div>
                    </a>
                </nav>
                <div class="row mt-m text20B col-12">
                    <div class="col-3 cTH ">時間</div>
                    <div class="col-3 cTH ">店家名稱</div>
                    <div class="col-3 cTH ">餐點名稱</div>
                    <div class="col-3 cTH ">訂訂幣</div>
                </div>
                <div class="scrollList coinList">
                    <div class="row cTR col-12" v-for='item in costData'>
                        <div class="col-3 mTD eng20R ">{{(item.orderDeadline).slice(0,10).replace(/-/g,'/')}}</div>
                        <div class="col-3 mTD text20R ">{{item.storeName}}</div>
                        <div class="col-3 mTD text20R ">{{item.productName}}</div>
                        <span class="co3-4 mTD eng20R price ">
                            <span class=" align-middle ">{{(item.sum).toLocaleString('en-US')}}</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div id="loading"></div>

    <script>
        // vue資料

        let mPurchased = new Vue({
            el: '#purchased',
            data: {
                memberData: JSON.parse('<%- mMemberData %>'),
                costData: JSON.parse('<%- costCoinListData %>'),
                saveCoinData: JSON.parse('<%- saveCoinData %>'),
                costCoinData: JSON.parse('<%- costCoinData %>')
            }

        })



    </script>



</body>

</html>