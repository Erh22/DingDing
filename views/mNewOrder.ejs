<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="/javascript/jquery-3.5.1.min.js"></script>
    <script src="/javascript/popper.min.js"></script>
    <script src="/javascript//bootstrap.min.js"></script>
    <script src="/javascript/vue.js"></script>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/fontello.css">
    <link rel="stylesheet" href="/stylesheets/sider.css">
    <link rel="stylesheet" href="/stylesheets/member.css">

    <title>Document</title>
    <style>
        .dblock {
            height: calc(100vh - 186px);
        }
    </style>

</head>

<body>
    <div>
        <!-- 左邊sider -->
        <div class="slider fixed-top">
            <img src="/image/LOGO.png" class="sliderLogo">
            <br>
            <img src="/image/photo.jpg" class="sliderPhoto">
            <p class="name text24B">阿信</p>
            <div class="menu text24R">
                <a href="" class="act"><i class="icon-home"></i>首頁</a>
                <a href=""><i class="icon-claendar"></i>訂訂行事曆</a>
                <a href="" class="mb-2"><i class="icon-member"></i>會員中心<i class="icon-down-open ml-3 mr-0"
                        style="font-size: 14px;"></i></a>
                <span class="menuI d-none">
                    <a href="" class="mb-0">個人資料</a>
                    <a href="">我的訂訂幣</a>
                </span>
                <a href="" class="mt-4"><i class="icon-message"></i>通知<span class="note">3</span></a>
                <a href="" id="signOut"><i class="icon-logout"></i>登出</a>
            </div>
        </div>

        <!-- 右邊內容放置區 -->
        <div class="containerRight">
            <div class="inWrapper">
                <!-- 上方頁籤 -->
                <div class="topBtnGroup topBtnPadding">
                    <a href=""></a>
                    <a href="" class="text20R dbtn btnGY">訂訂行事曆</a>
                    <a href="" class="text20R dbtn btnGY">我的團體</a>
                    <a href="./mOrderList.html" class="text20R dbtn btnGY btnY">我的訂單</a>
                    <a href="" class="text20R dbtn btnGB">我的投票</a>
                </div>
                <!-- 內容區塊 -->
                <div id="app" class="dblock givePadding mt-m">
                    <!-- 內容按鈕 -->
                    <div class="clearfix mb-s">
                        <button class="text20RG dbtn btnG"><i class="icon-left-open mr-2"></i>返回</button>
                       <a href="mOrderList"> <button  @click="persist" class="text20R dbtn btnY float-right">建立訂單</button></a>
                    </div>
                    <!-- 捲軸範圍 -->
                    <div class="scrollList orderVoteListM">
                        <!-- 上方內容 -->
                        <div class="ml-4">
                            <div class="row mb-s">
                                <div class="col-2 mTD">
                                    <span class="text20B">選擇團體</span>
                                </div>
                                <div class="dSelect" style="width: 500px;">
                                    <!-- <input v-model="groupName" type="text" class="text20RG singleText398"
                                        placeholder="選擇團體"> -->
                                    <select v-model="groupName" name="" id="" class="text20RG singleText398 w-75"
                                        placeholder="選擇團體">
                                        <option v-for="(group,index) in groupList" class="text20RG singleText398" value="">{{group.groupName}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mb-s">
                                <div class="col-2 mTD">
                                    <span class="text20B">餐點送達時間</span>
                                </div>
                                <div class="dSelect" style="width: 500px;">
                                    <input v-model="orderArrivedTime" type="datetime-local" class="text20RG singleText398"
                                        placeholder="選擇日期時間">
                                </div>
                            </div>
                            <div class="row mb-s">
                                <div class="col-2 mTD">
                                    <span class="text20B">點餐截止時間</span>
                                </div>
                                <div class="dSelect" style="width: 500px;">
                                    <input v-model="orderDeadline" type="datetime-local" class="text20RG singleText398"
                                        placeholder="選擇日期時間">
                                </div>
                            </div>
                            <div class="row mb-m mTD">
                                <div class="dSelect" style="width: 500px;">
                                    <input v-model:trim="searchCondition" type="text" class="text20RG singleText398" placeholder="請輸入店家名稱">
                                </div>
                                <button v-on:click="searchStore" class="text20R dbtn btnY ml-3">搜尋店家</button>
                                <button v-on:click="randomChoose" class="text20R dbtn btnY ml-3" type="button"
                                    id="randomBtn">店家拉霸機</button>
                            </div>
                            <div class="mTD">
                                <a href="#" class="text20R text-decoration-none pr-3 textB">推薦</a><span
                                    class="textG">|</span>
                                <a href="#" class="text20R text-decoration-none pr-3 pl-3">收藏</a><span
                                    class="textG">|</span>
                                <a href="#" class="text20R text-decoration-none pr-3 pl-3">重新下訂</a><span
                                    class="textG">|</span>
                                <a href="#" class="text20R text-decoration-none pr-3 pl-3">最近的投票</a>
                            </div>
                        </div>
                        <!-- 水平線 -->
                        <div class="orderSection mt-n2">
                            <hr class="" style="border: 1px solid var(--dLightGray);">
                        </div>
                        <!-- 商品卡 -->
                        <div class="row imgCardGroup">
                            <div v-for="(store,index) in storeList" class="col-4 imgCard">
                                <input v-model="selectedStore" class="form-check-input" type="radio" name="blankRadio"
                                    id="blankRadio1" :value="storeList[index].storeID" aria-label="...">
                                <div class="dingImgDiv" style="width:  100%">
                                    <img :src="storeList[index].storePhoto" class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">{{ store.storeName }}</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right"
                                            style="margin-right: 7px;">{{store.storeScore}}</span>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-4 imgCard">
                                <div class="dingImgDiv" style="width:  100%">
                                    <input class="form-check-input" type="radio" name="blankRadio" id="blankRadio1"
                                        value="option1" aria-label="...">
                                    <img src="/image/store/Taichung/隨主飡_法式水煮專賣/index.jpeg"
                                        class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">隨主飡_法式水煮專賣賣賣賣賣賣賣賣賣賣</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right" style="margin-right: 7px;">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4 imgCard">
                                <div class="dingImgDiv" style="width:  100%">
                                    <input class="form-check-input" type="radio" name="blankRadio" id="blankRadio1"
                                        value="option1" aria-label="...">
                                    <img src="/image/store/Taichung/太初麵食/index.jpeg"
                                        class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">太初麵食</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right" style="margin-right: 7px;">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4 imgCard">
                                <input class="form-check-input" type="radio" name="blankRadio" id="blankRadio1"
                                    value="option1" aria-label="...">
                                <div class="dingImgDiv" style="width:  100%">
                                    <img src="/image/store/Taichung/太初麵食/index.jpeg"
                                        class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">太初麵食</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right" style="margin-right: 7px;">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4 imgCard">
                                <div class="dingImgDiv" style="width:  100%">
                                    <input class="form-check-input" type="radio" name="blankRadio" id="blankRadio1"
                                        value="option1" aria-label="...">
                                    <img src="/image/store/Taichung/隨主飡_法式水煮專賣/index.jpeg"
                                        class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">隨主飡_法式水煮專賣賣賣賣賣賣賣賣賣賣</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right" style="margin-right: 7px;">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4 imgCard">
                                <div class="dingImgDiv" style="width:  100%">
                                    <input class="form-check-input" type="radio" name="blankRadio" id="blankRadio1"
                                        value="option1" aria-label="...">
                                    <img src="/image/store/Taichung/太初麵食/index.jpeg"
                                        class="card-img-top dingImg" alt="...">
                                    <div class="card-body">
                                        <div class="d-inline-block w-75">
                                            <p class="card-text text24B shopName">太初麵食</p>
                                        </div>
                                        <i class="icon-spoon float-right"></i>
                                        <span class="card-text eng24R float-right" style="margin-right: 7px;">4.8</span>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script src="/javascript/data.js"></script>
    <script>
        // let data ＝ {
        //     groupName:"aa",
        //     orderArrivedTime:"aa",
        //     orderDeadline:"aa"
        // }
        // let countCard = document.getElementsByClassName('imgCard').length;
        // let randaomCard;
        // randaomCard = Math.floor(Math.random() * countCard);

        // console.log(document.querySelectorAll(".form-check-input")[randaomCard])

        let app = new Vue({
            el: "#app",
            data: data,
            mounted() {
                if (localStorage.groupName) {
                    this.groupName = localStorage.groupName;
                }
                if (localStorage.orderArrivedTime) {
                    this.orderArrivedTime = localStorage.orderArrivedTime;
                }
                if (localStorage.orderDeadline) {
                    this.orderDeadline = localStorage.orderDeadline;
                }
                if (localStorage.orderDeadline) {
                    this.selectedStore = localStorage.selectedStore;
                }
            },
            computed:{
                // searchStore(){
                //     if(this.searchCondition){
                //         return this.storeList
                //     }else{
                //         return this.storeList.filter(store => {
                //             return this.storeList.storeName.toLowerCase().indexOf(this.searchCondition.toLowerCase()) != -1
                //         })
                //     }
                // }
                // searchStore(){
                //     if(this.searchCondition){
                //         return this.storeList
                //     }else{
                //         return this.storeList.filter(store => {
                //             return this.storeList.storeName.toLowerCase().indexOf(this.searchCondition.toLowerCase()) != -1
                //         })
                //     }
                // }
            },
            methods: {
                randomChoose:function() {
                    this.countCard = document.getElementsByClassName('imgCard').length;
                    this.selectedStore = "";
                    this.randaomCard = Math.floor(Math.random() * this.countCard);
                    console.log(this.countCard);
                    this.selectedStore = document.querySelectorAll(".form-check-input")[this.randaomCard];
                    this.selectedStore.checked = true;
                    this.selectedStore = this.selectedStore.value;
                    // $(`.imgCardGroup .form-check-input`).eq(randaomCard).prop("checked", true);
                },
                persist: function () {
                    localStorage.groupName = this.groupName;
                    localStorage.orderArrivedTime = this.orderArrivedTime;
                    localStorage.orderDeadline = this.orderDeadline;
                    localStorage.selectedStore = this.selectedStore;
                    // console.log('now pretend I did more stuff...');
                },              
                searchStore:function(){
                    let finalStoreList = this.storeList;
                    if(this.searchCondition){
                        return this.storeList
                    }else{
                        finalStoreList = this.storeList.filter(store => {
                            return this.storeList.storeName.toLowerCase().indexOf(this.searchCondition.toLowerCase()) != -1
                        })
                    }
                    return finalStoreList;
                }
  
            }
        })

    //     var app1 = new Vue({
    //     el: "#app1",
    //     data: {
    //         message: 'Hello Vue!'
    //     },
    //     methods: {
    //         reverseMessage: function () {
    //             this.message = this.message.split('').reverse().join('');
    //         }
    //     }
    // });

    </script>
    <!-- <script>
        let countCard = document.getElementsByClassName('imgCard').length;
        let randaomCard = Math.floor(Math.random() * countCard);
        console.log(randaomCard);
        console.log($(`.imgCardGroup .form-check-input`)[randaomCard]);

        $("#randomBtn").click(function () {
            randaomCard = Math.floor(Math.random() * countCard);
            $(`.imgCardGroup .form-check-input`).eq(randaomCard).prop("checked", true);
        });
    </script> -->
</body>

</html>